# 校园通行码预约管理系统

这是zjut 22级java web课设第一题，具体要求如下：

## 要求

疫情放开后，各个大学逐渐开放了校园，除了因公务预约申请进校外，也允许校外人员通过社会公众进校预约通道的二维码登记进行申请，系统自动审核通过后会生成一个进校的通行码（在有效期内为紫色，有效期外为灰色），请开发一套校园通行码预约管理系统，允许公务进校预约，也允许社会公众进校申请预约。预约通道的二维码页面效果参考如下图1-1所示：
系统包括手机端和后台管理端：

### 手机端

手机端包括我要预约、我的预约等功能，可以预约、查询和查看通行码和历史预约记录等。

我要预约的页面如图1-2所示，需填写预约校区、预约进校时间、所在单位、姓名、身份证号、手机号、交通方式、车牌号（可选填）、随行人员（可选填，如填写需包括姓名、身份证号、手机号）等，如果是公务预约还需填写公务访问部门（学校各部门或学院）、公务访问接待人（即要访问的相关老师）及来访事由。如果是公务来访需相关学院审核后方可有效，社会公众预约后可自动审核通过并显示通行码效果图，如果当前时间不在有效预约时间内，则显示无效的通行码效果如图1-3，当前时间在有效预约时间内则显示有效的通行码效果如图1-4所示。其中，二维码的信息可包括姓名(
其中中间的一个字为*代替，名字为2个字的，中间加*，超过2个字的，中间全部用*)、身份证号(其中出示日期用*代替)
、生成时间等。“我的预约”功能可输入本人的姓名、身份证号和手机号可以查询历史的预约记录（包括预约的申请日期、进校日期和预约校区等），点击“查看”可以显示通行码。

### 系统管理端

系统管理端包括管理员登录、管理员管理、部门管理、社会公众预约管理和公务预约管理等功能。

- 管理员管理。管理员的角色包括学校管理员和部门管理员，学校管理员可以添加、修改、删除、查询、查看部门管理员。管理员的信息包括姓名、登录名、密码、所在部门、联系电话等信息，其中密码要用国密算法SM3加密存储。
- 部门管理。由学校管理员设置部门的信息，包括部门编号、部门类型（行政部门、直属部门、学院）和部门名称，包括添加、修改、删除、查询、查看等功能。
- 社会公众预约管理。只有学校管理员有权限，也可以授权某个部门的管理有权限。包括查询和统计功能。查询功能可以通过申请日期、预约日期、预约校区、所在单位、预约人姓名或身份证号等条件进校查询，每个条件均为可选。查询结果显示申请日期、预约校区、预约进校时间、所在单位、姓名等，查看详情可显示当前预约记录的所有信息。统计功能可按申请月度、预约月度、预约校区进校等条件统计预约的次数和人次。
- 公务预约管理。学校管理员或被授权的部门管理员有权限可以查询、审核和统计所有的公务预约记录，而部门管理员仅能查询、审核和统计本部门的公务预约记录。查询功能可以通过申请日期、预约日期、预约校区、所在单位、预约人姓名或身份证号、公务访问部门、公务访问接待人和审核状态等条件进校查询，每个条件均为可选。查询结果显示申请日期、预约校区、预约进校时间、所在单位、姓名、公务访问部门、公务访问接待人和审核状态等，查看详情可显示当前预约记录的所有信息，未审核的预约记录可由管理员进行审核。统计功能可按申请月度、预约月度、预约校区、公务访问部门等条件统计预约的次数和人次。

### 隐私保护

要求按等保三级和国密算法对敏感信息进行隐私保护，具体要求如下：

- 身份鉴别
  后端管理的密码复杂度要求，长度8位以上，包含数字、大小字母、特殊字符等混合组合；定期要求90天以上需更换一次密码；登录失败5次锁定30分钟，超时30分钟自动退出；要求对密码采用基于国产密码算法SM3进行加密保存。
- 访问控制
  配置部门管理员、学校管理、审计管理员和系统管理员，实现预约信息的权限分离。系统管理员可以设置用户的角色和权限以及学校管理员和审计管理员，审计管理员只允许查看系统的日志信息。
- 数据完整性和保密性
  对预约信息中涉及密码、身份证号、手机号等重要数据存储时，采用基于国产密码算法SM系列的校验技术或密码技术，保证其在存储过程中数据的完整性和保密性，如密码用国密SM3加密存储，身份证号、手机号等用SM2或SM4加密存储，并在页面上对关键信息进行脱敏显示（部分内容用*
  代替）。
- 安全审计
  对所有用户的登录、查看预约信息等重要的操作日志保存至数据库的日志表，审计管理员可对日志进行查询、查看等审计操作，日志保存半年以上。选做：采用基于国产密码算法对日志记录进行完整性保护，可对日志记录进行
  HMAC-SM3运算，并定期比对日志记录和HMAC值。

